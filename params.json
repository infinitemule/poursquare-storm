{"name":"Poursquare - Storm","tagline":"Storm/Finagle Hackathon Submission","body":"Storm/Finagle Hackathon Submission - Poursquare \r\n===============================================\r\n\r\nThis was my submission to the Storm/Finagle Hackathon which took place at hack/reduce \r\nin July of 2013.  \r\n\r\nThis repo contains the code for the Storm portion of the application.  This includes all the \r\nspouts, bolts, and topology that were used on the Storm cluster.\r\n\r\nGetting Started\r\n---------------\r\n\r\n### Prerequisites\r\n\r\nThe first thing you need to do is get access to the [Twitter API](https://dev.twitter.com/).  Once you are \r\nset up, you need to retrieve a bearer token from Twitter so that you can access\r\nthe [search API](https://dev.twitter.com/docs/api/1.1/get/search/tweets).  The search API uses\r\napplication-only authentication and instructions on how to get a token can be found \r\n[here](https://dev.twitter.com/docs/auth/application-only-auth).  I used Finagle to do this but you can \r\njust as easily do it with curl or any HTTP client.\r\n\r\nYou will also need MongoDB installed.  If you are on Linux (or OSX), you can do this through whichever \r\npackage manager/software updater your distro supports.  On Windows, just follow the \r\ninstructions [here](http://docs.mongodb.org/manual/tutorial/install-mongodb-on-windows/).    \r\n\r\nInstall the [Java SDK](http://www.oracle.com/technetwork/java/javase/downloads/index.html) \r\nand [Maven](http://maven.apache.org/download.cgi).\r\n\r\nThe last thing you will need is git.  I would assume most of you have it already, but if not, you can \r\ngrab it through your package manager or go [here](http://git-scm.com/download/win) for Windows.  Then \r\ncheck out the docs on GitHub on how to clone a repo.  \r\n\r\nAlthough I am using Scala, if you all you want to do is run the topology, you do not have to have Scala \r\ninstalled.  If you are using Eclipse, you can either download the Scala IDE (which I recommended) or install \r\nthe Scala plugin.  I did have to create a separate library entry for 2.10.2 since I couldn't \r\nfind out how to update Scala IDE to the latest version of 2.10.\r\n\r\n\r\n### Installing\r\n\r\nFirst, clone the repo onto your local machine.\r\n\r\nI am using Maven and not sbt, so if you are using Eclipse, you can just import as a Maven project.  The \r\nimport into IntelliJ should be pretty straightforward as well (although I am not certain on how \r\nto do this). You can also just run Maven from the command line.\r\n\r\nThe next step is to make an environmental variable called TWITTER_BEARER_TOKEN and set the value to \r\nyour Twitter API bearer token.  I did  this in my run configuration in Eclipse but if you are running \r\nfrom the command line you can set it there.  \r\n\r\n### Running\r\n\r\nIf you are in Eclipse, create a run configuration for a Scala Application that targets the \r\n`com.infinitemule.hopperhack.storm.PoursquareTopology` class.  Don't forget specify the bearer token \r\nenvironmental variable.\r\n\r\nIf you are on the command line, you should be able to run `mvn compile` and then: \r\n\r\n  mvn exec:java -Dexec.mainClass=com.infinitemule.hopperhack.storm.PoursquareTopology  \r\n\r\nThe topology will run in local mode for two minutes.  This is hard coded in the class, so you will have to edit the file \r\nif you wanted it to run longer.\r\n\r\n\r\nNotes\r\n-----\r\n* I am not a Storm expert.  I started learning Storm a few days before the hackathon.  If you see \r\nsomething that can be improved, please let me know.\r\n* I didn't do any adjustments to the topology.  Everything has a three for a parallelism hint because \r\nthat's what I used when I was testing.  My guess would be that you would look at the metrics that\r\nthe Storm UI is collecting and make appropriate adjustments to those numbers.\r\n* I had a hard time finding the proper way of feeding a spout.  I based mine off of the Storm Kestral spout.\r\n* I also had a hard time finding a good example of how to use Finagle within a Storm bolt.  If you know of \r\na better way of doing this, please let me know.  ","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}